{
    "env": {
        "hostname": "dev02.deda.ca"
    },

    "cluster": {
        "enabledCluster": true,
        "numberOfWorkers": 4,
        "workerDelayRestart": 1000,

        "enableUncaughtException": true,

        "components": [
            {
                "id": "SharedStream",
                "namespace": "Stream.RotatingFile",
                "size": "1M",
                "totalFile": 3,
                "path": "${env.cwd}/docs/www/logs/access.log"
            },
            {
                "id": "MemoryStore",
                "namespace": "Store.Memory"
            }
        ]
    },

    "app": {

        "enableUncaughtException": true,

        "components": [
            {
                "id": "shared-store",
                "namespace": "Store.Shared",
                "storeId": "MemoryStore"
            },
            {
                "id": "LogStream",
                "namespace": "Stream.Shared",
                "streamId": "SharedStream"
            },

            {
                "id": "Logger",
                "namespace": "Logger",
                "format": "${request.socket.remoteAddress} - ${process.pid} - ${request._startTime} ${request.method} ${request.url} HTTP/${request.httpVersion} ${response.statusCode} ${response.headers.content-length} ${request.headers.user-agent}\n",
                "streamId": "LogStream"
            },

            {
                "namespace": "Server.HTTP",
                "port": 8080,
                "host": "0.0.0.0"
            },
            {
                "namespace": "Server.HTTP",
                "port": 4443,
                "host": "0.0.0.0",
                "key" : "${env.cwd}/docs/www/ssl/private.key",
                "cert": "${env.cwd}/docs/www/ssl/cert.crt",
                "encrypted": true,
                "watch": true
            },



            {
                "namespace": "Proxy.FileServe",
                "desc": "The main Website",

                "root": "${env.cwd}/docs/www/html/"
            }
        ]
    }
}